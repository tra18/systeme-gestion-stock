<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forcer Rechargement - Acc√®s DG</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2d3748;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        .status-card {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .status-card h3 {
            color: #2d3748;
            margin-bottom: 10px;
        }
        .status-card p {
            color: #4a5568;
            margin: 5px 0;
        }
        .btn {
            display: inline-block;
            background: #4299e1;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            margin: 5px;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }
        .btn-success { background: #38a169; }
        .btn-success:hover { background: #2f855a; }
        .btn-warning { background: #ed8936; }
        .btn-warning:hover { background: #dd6b20; }
        .btn-danger { background: #e53e3e; }
        .btn-danger:hover { background: #c53030; }
        .info-box {
            background: #e6fffa;
            border: 1px solid #81e6d9;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .info-box h3 {
            color: #234e52;
            margin-bottom: 10px;
        }
        .info-box ul {
            color: #2d3748;
            margin: 0;
            padding-left: 20px;
        }
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .step-item {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4299e1;
        }
        .step-item h4 {
            color: #2d3748;
            margin-bottom: 8px;
        }
        .step-item p {
            color: #4a5568;
            margin: 5px 0;
            font-size: 0.9rem;
        }
        .step-item.warning {
            border-left-color: #ed8936;
            background: #fff5f0;
        }
        .step-item.success {
            border-left-color: #38a169;
            background: #f0fff4;
        }
        .result {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            display: none;
        }
        .result.show {
            display: block;
        }
        .result.error {
            background: #fee2e2;
            border-color: #fca5a5;
        }
        .result.success {
            background: #d1fae5;
            border-color: #6ee7b7;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÑ Forcer Rechargement - Acc√®s DG</h1>
        
        <div class="info-box">
            <h3>‚ö†Ô∏è Probl√®me Identifi√©</h3>
            <ul>
                <li><strong>Probl√®me :</strong> Le DG ne voit pas la page "Achat"</li>
                <li><strong>Cause :</strong> Cache du navigateur ou application non recharg√©e</li>
                <li><strong>Solution :</strong> Forcer le rechargement complet</li>
            </ul>
        </div>

        <div class="steps">
            <div class="step-item warning">
                <h4>üîÑ √âtape 1: Forcer le Rechargement</h4>
                <p><strong>M√©thode 1 :</strong> Ctrl + F5 (Windows) ou Cmd + Shift + R (Mac)</p>
                <p><strong>M√©thode 2 :</strong> F12 ‚Üí Network ‚Üí Cocher "Disable cache"</p>
                <p><strong>M√©thode 3 :</strong> Mode incognito</p>
                <button class="btn btn-warning" onclick="forceReload()">Forcer le Rechargement</button>
            </div>

            <div class="step-item warning">
                <h4>üóëÔ∏è √âtape 2: Vider le Cache</h4>
                <p><strong>Chrome/Edge :</strong> F12 ‚Üí Application ‚Üí Storage ‚Üí Clear storage</p>
                <p><strong>Firefox :</strong> F12 ‚Üí Storage ‚Üí Clear All</p>
                <p><strong>Safari :</strong> Develop ‚Üí Empty Caches</p>
                <button class="btn btn-warning" onclick="clearCache()">Vider le Cache</button>
            </div>

            <div class="step-item warning">
                <h4>üîÑ √âtape 3: Red√©marrer l'Application</h4>
                <p><strong>Terminal :</strong> Ctrl + C puis npm start</p>
                <p><strong>Ou :</strong> Fermer et rouvrir le terminal</p>
                <button class="btn btn-danger" onclick="restartApp()">Red√©marrer l'App</button>
            </div>

            <div class="step-item success">
                <h4>‚úÖ √âtape 4: V√©rifier l'Acc√®s</h4>
                <p><strong>Connectez-vous avec un utilisateur DG</strong></p>
                <p><strong>V√©rifiez que "Achat" est visible dans la navigation</strong></p>
                <button class="btn btn-success" onclick="checkAccess()">V√©rifier l'Acc√®s</button>
            </div>
        </div>

        <div id="result" class="result"></div>

        <div class="status-card">
            <h3>üéØ Pages que le DG doit voir</h3>
            <ol>
                <li><strong>Tableau de bord</strong> ‚úÖ</li>
                <li><strong>Nouvelle Commande</strong> ‚úÖ</li>
                <li><strong>Achat</strong> ‚ö†Ô∏è (Probl√®me ici)</li>
                <li><strong>Validation DG</strong> ‚úÖ</li>
                <li><strong>Commandes</strong> ‚úÖ</li>
                <li><strong>Maintenance</strong> ‚úÖ</li>
                <li><strong>Stock</strong> ‚úÖ</li>
                <li><strong>Services</strong> ‚úÖ</li>
                <li><strong>Employ√©s</strong> ‚úÖ</li>
                <li><strong>Fournisseurs</strong> ‚úÖ</li>
                <li><strong>Prestataires</strong> ‚úÖ</li>
                <li><strong>Alertes</strong> ‚úÖ</li>
                <li><strong>Param√®tres</strong> ‚úÖ</li>
            </ol>
        </div>

        <div class="info-box">
            <h3>üí° Solutions si le Probl√®me Persiste</h3>
            <ul>
                <li><strong>V√©rifiez le r√¥le :</strong> Assurez-vous que l'utilisateur a bien le r√¥le "dg"</li>
                <li><strong>Reconnectez-vous :</strong> D√©connectez-vous et reconnectez-vous</li>
                <li><strong>V√©rifiez la console :</strong> F12 ‚Üí Console pour voir les erreurs</li>
                <li><strong>Mode incognito :</strong> Testez dans une fen√™tre priv√©e</li>
                <li><strong>Red√©marrez le navigateur :</strong> Fermez et rouvrez compl√®tement</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="http://localhost:3000" class="btn btn-success" target="_blank" style="font-size: 1.2rem; padding: 15px 30px;">
                üöÄ Ouvrir l'Application
            </a>
        </div>
    </div>

    <script>
        function forceReload() {
            showResult('success', `
                <h4>üîÑ Forcer le Rechargement</h4>
                <p><strong>1. Ouvrez l'application :</strong> http://localhost:3000</p>
                <p><strong>2. Rechargez avec :</strong></p>
                <ul>
                    <li><strong>Windows/Linux :</strong> Ctrl + F5</li>
                    <li><strong>Mac :</strong> Cmd + Shift + R</li>
                    <li><strong>Alternative :</strong> F12 ‚Üí Network ‚Üí Disable cache</li>
                </ul>
                <p><strong>3. V√©rifiez que "Achat" est visible pour le DG</strong></p>
                <p><strong>‚úÖ R√©sultat attendu :</strong> Page "Achat" visible dans la navigation</p>
            `);
        }

        function clearCache() {
            showResult('success', `
                <h4>üóëÔ∏è Vider le Cache</h4>
                <p><strong>Chrome/Edge :</strong></p>
                <ul>
                    <li>F12 ‚Üí Application ‚Üí Storage</li>
                    <li>Cliquez sur "Clear storage"</li>
                    <li>Rechargez la page</li>
                </ul>
                <p><strong>Firefox :</strong></p>
                <ul>
                    <li>F12 ‚Üí Storage</li>
                    <li>Cliquez sur "Clear All"</li>
                    <li>Rechargez la page</li>
                </ul>
                <p><strong>Safari :</strong></p>
                <ul>
                    <li>Develop ‚Üí Empty Caches</li>
                    <li>Rechargez la page</li>
                </ul>
                <p><strong>‚úÖ R√©sultat attendu :</strong> Cache vid√©, modifications visibles</p>
            `);
        }

        function restartApp() {
            showResult('success', `
                <h4>üîÑ Red√©marrer l'Application</h4>
                <p><strong>1. Dans le terminal :</strong></p>
                <ul>
                    <li>Appuyez sur <strong>Ctrl + C</strong> pour arr√™ter l'application</li>
                    <li>Attendez que l'application s'arr√™te compl√®tement</li>
                    <li>Relancez avec <strong>npm start</strong></li>
                </ul>
                <p><strong>2. V√©rifiez que l'application red√©marre :</strong></p>
                <ul>
                    <li>Attendez le message "webpack compiled successfully"</li>
                    <li>Ouvrez http://localhost:3000</li>
                </ul>
                <p><strong>‚úÖ R√©sultat attendu :</strong> Application red√©marr√©e avec toutes les modifications</p>
            `);
        }

        function checkAccess() {
            showResult('success', `
                <h4>‚úÖ V√©rifier l'Acc√®s DG</h4>
                <p><strong>1. Ouvrez l'application :</strong> http://localhost:3000</p>
                <p><strong>2. Connectez-vous avec un utilisateur DG</strong></p>
                <p><strong>3. V√©rifiez la navigation :</strong> Toutes ces pages doivent √™tre visibles</p>
                <ul>
                    <li>‚úÖ <strong>Tableau de bord</strong></li>
                    <li>‚úÖ <strong>Nouvelle Commande</strong></li>
                    <li>‚ö†Ô∏è <strong>Achat</strong> (Doit √™tre visible maintenant)</li>
                    <li>‚úÖ <strong>Validation DG</strong></li>
                    <li>‚úÖ <strong>Commandes</strong></li>
                    <li>‚úÖ <strong>Maintenance</strong></li>
                    <li>‚úÖ <strong>Stock</strong></li>
                    <li>‚úÖ <strong>Services</strong></li>
                    <li>‚úÖ <strong>Employ√©s</strong></li>
                    <li>‚úÖ <strong>Fournisseurs</strong></li>
                    <li>‚úÖ <strong>Prestataires</strong></li>
                    <li>‚úÖ <strong>Alertes</strong></li>
                    <li>‚úÖ <strong>Param√®tres</strong></li>
                </ul>
                <p><strong>‚úÖ R√©sultat attendu :</strong> Toutes les pages visibles, y compris "Achat"</p>
            `);
        }

        function showResult(type, content) {
            const resultDiv = document.getElementById('result');
            resultDiv.className = `result ${type} show`;
            resultDiv.innerHTML = content;
        }

        // Afficher le r√©sultat
        document.getElementById('result').style.display = 'none';
    </script>
</body>
</html>
